from flask import Flask, request, jsonify
from flask_cors import CORS
from db import get_connection
import os

app = Flask(__name__)
CORS(app)

@app.route('/signup', methods=['POST'])
def signup():
    data = request.json
    conn = get_connection()
    cursor = conn.cursor()
    try:
        cursor.execute("INSERT INTO users (username, email, password) VALUES (%s, %s, %s)",(data['username'], data['email'], data['password']))
        conn.commit()
        return jsonify({'status': 'success'})
    except:
        conn.rollback()
        return jsonify({'status': 'error'}), 409
    finally:
        conn.close()

@app.route('/login', methods=['POST'])
def login():
    data = request.json
    conn = get_connection()
    cursor = conn.cursor(dictionary=True)
    cursor.execute("SELECT * FROM users WHERE username=%s AND password=%s", (data['username'], data['password']))
    user = cursor.fetchone()
    conn.close()
    if user:
        return jsonify({'status': 'success', 'user_id': user['id']})
    else:
        return jsonify({'status': 'error'}), 401

@app.route('/recipes', methods=['GET'])
def recipes():
    budget = request.args.get('budget', type=float)
    images = {
        "Besan Chilla": "https://i.pinimg.com/736x/93/c5/49/93c5492c509282be6b7cef80ed2e7179.jpg",
        "Aloo Paratha": "https://i0.wp.com/khaddoroshik.com/wp-content/uploads/2023/12/Aloo-Paratha-Recipe.webp?w=1024&ssl=1",
        "Paneer Butter Masala": "https://i.pinimg.com/736x/d6/be/99/d6be99b3ffc8033087e466883f7459f1.jpg",
        "Veg Biryani": "https://i.pinimg.com/736x/95/80/7b/95807ba96c11e2387e909767c19f68ff.jpg",
        "Chickpea Spinach Curry": "https://i.pinimg.com/736x/d1/c1/61/d1c161fb52b8002e2a835305f5c0f8fe.jpg",
        "Gutti Vankaya Curry": "https://i.pinimg.com/736x/38/e2/77/38e277f870defd6f3d7d13fb722de888.jpg",
        "Palak Paneer": "https://i.pinimg.com/736x/2f/5e/ae/2f5eae6b7d5badd5dbeee57e81d28a84.jpg",
        "Dal Makhani": "https://i.pinimg.com/736x/2a/c6/57/2ac657e8a320ac35ac5b7c67c339ea1d.jpg",
        "Chole Bhature": "https://i.pinimg.com/736x/f5/9c/9a/f59c9a7f63c2cd4bd587f3de73f184a4.jpg",
        "Veg Pulao": "https://i.pinimg.com/736x/18/c5/8d/18c58d13627917fb60d39d2ce019d6a1.jpg",
        "Aloo tikki": "https://i.pinimg.com/736x/cf/e2/33/cfe233928aa6d63b982ddfd048cee847.jpg",
        "Veg Spring rolls": "https://i.pinimg.com/736x/29/41/a6/2941a6153669acb5a03c375fd50c54c4.jpg",
        "Veg Grilled Sandwich": "https://i.pinimg.com/736x/32/e6/3a/32e63adb3a5644f3ae88b86e98187286.jpg",
        "Veg Kofta Curry": "https://i.pinimg.com/736x/77/6b/6d/776b6d49ec2ddc58033db5786ee135f2.jpg",
        "White Sause Pasta": "https://i.pinimg.com/736x/e8/68/c8/e868c8f4d0928bcb470fcf4e69c212cc.jpg",
        "Aloo Fry Curry": "https://i.pinimg.com/736x/80/e2/01/80e2014e953fc0de1c980a05982250fc.jpg",
        "Bendi Fry": "https://i.pinimg.com/736x/52/d3/7b/52d37bd575f08565db4e97c8c2ade53d.jpg",
        "Veg Noodles": "https://i.pinimg.com/736x/ae/a4/36/aea4369b1d071a4382b4b909669c6814.jpg",
        "Dhokla": "https://i.pinimg.com/736x/3e/e6/60/3ee660d8ddfa8dc26b1e975f93c60648.jpg",
        "Butter Chicken": "https://i.pinimg.com/736x/93/e9/79/93e97987768f9240c5ffda2475c0ce28.jpg",
        "Chicken Biryani": "https://i.pinimg.com/736x/6a/cc/f3/6accf3cefbe7f9779d151e3696018990.jpg",
        "Tandoori Chicken": "https://i.pinimg.com/736x/3e/34/32/3e34327f15bffe23ad9552cccf9438b0.jpg",
        "Mutton Rogan Josh": "https://i.pinimg.com/736x/70/f1/51/70f151786fdd6ef1d8adcbef9756a075.jpg",
        "Fish Curry": "https://i.pinimg.com/736x/3d/d9/bd/3dd9bd8e7749bfa578ea799f115b3480.jpg",
        "Chicken Tikka Masala": "https://i.pinimg.com/736x/7a/10/c6/7a10c60677bb0e4bc8f14c37e7e58186.jpg",
        "Lamb Korma": "https://i.pinimg.com/736x/72/e5/f8/72e5f82102075674be8be2ebd2f7094d.jpg",
        "Prawn Masala": "https://i.pinimg.com/736x/32/cd/5a/32cd5a30754392e703f3eafbc910b46b.jpg",
        "Mutton Seekh Kebabs": "https://i.pinimg.com/736x/44/a5/8b/44a58bc663c9b9079f1cae05a9833ae5.jpg",
        "Chicken Shawarma": "https://i.pinimg.com/736x/07/5a/f7/075af76c078097a81452e1e352be8da8.jpg",
        "Chicken Korma": "https://i.pinimg.com/736x/66/54/9b/66549bb583cf02c70af73a49976c5c6c.jpg",
        "Lamb Kofta": "https://i.pinimg.com/736x/52/67/1d/52671dd12971794b9c56693d5a54c376.jpg",
        "Grilled Fish": "https://i.pinimg.com/736x/65/f5/2b/65f52bd1bd0f90a60fe388d9893802a8.jpg",
        "Spicy Chicken Wings": "https://i.pinimg.com/736x/be/82/99/be82996e1e94fe1062223cd6cc2873a8.jpg",
        "Chicken Malai Tikka": "https://i.pinimg.com/736x/e9/2b/dd/e92bddb0c3e767add13a1cf241804e60.jpg",
        "Fish Fry": "https://i.pinimg.com/736x/6c/e6/e9/6ce6e973879a1dbf87da7cb9c13c920c.jpg",
        "Chicken Burger": "https://i.pinimg.com/736x/f5/84/22/f584223b4cb07cda004c66f3874d3dbc.jpg",
        "Mutton Pulao": "https://i.pinimg.com/736x/9d/8d/aa/9d8daab93d92ad9f3aabe5988aca4b0b.jpg",
        "Egg Curry": "https://i.pinimg.com/736x/98/8c/14/988c14d330598ec327e16424a37c36d3.jpg",
        "Idli": "https://i.pinimg.com/736x/25/11/ae/2511aea623ba7893f6401be65b835f7b.jpg",
        "Dosa": "https://i.pinimg.com/736x/a6/e8/7a/a6e87aaa35f64beb6abbfeb1fbbfc4af.jpg",
        "Upma": "https://i.pinimg.com/736x/95/4e/d9/954ed9c5e30a41879373f115fe3a4417.jpg",
        "Poha": "https://i.pinimg.com/736x/c4/91/2d/c4912db4557b80ff2aaf91c88d1f4588.jpg",
        "Thepla": "https://i.pinimg.com/736x/db/83/22/db8322c60a49ca794eacd7f6a522bc66.jpg",
        "Kesari": "https://sinfullyspicy.com/wp-content/uploads/2022/02/Pineapple-Halwa-Side.jpg",
        "Chole Bhature": "https://i.pinimg.com/736x/7f/55/b3/7f55b38f35f6760ed94f75f7596de747.jpg",
        "Pancake": "https://i.pinimg.com/736x/24/b3/26/24b326576650d53b8246d6c608c355bf.jpg",
        "Guntha Ponganalu": "https://i.pinimg.com/736x/81/32/32/813232af09c0627f0ad98b82847a4cb2.jpg",
        "Oats": "https://i.pinimg.com/736x/63/50/9e/63509ed57ddbbdf50eba6b68d4030c5e.jpg",
        "Pesarattu": "https://i.pinimg.com/736x/99/3c/23/993c231f8f58df9241e8e766beded79d.jpg",
        "Peri-Peri Pasta": "https://i.pinimg.com/736x/8c/4d/88/8c4d88254265b6cc535aea98e9af35f1.jpg",
        "Mysore Bonda": "https://i.pinimg.com/736x/a8/d7/98/a8d7988df1ff7736a4d3d6719afd8b08.jpg",
        "Lemon Rice": "https://i.pinimg.com/736x/d5/33/2a/d5332a56a0c608684c758aac714a0cd6.jpg",
        "Curd Rice": "https://i.pinimg.com/736x/af/07/0e/af070eb7e6313a1826e1331904027bf0.jpg",
        "Appam with Stew": "https://i.pinimg.com/736x/98/6e/b3/986eb30c91145e9880418c032ba8676d.jpg",
        "Ragi Khangi": "https://i.pinimg.com/736x/57/5c/ac/575cac41d45cd9767c2d1a4a1935951c.jpg",
        "Onion Uthapam": "https://i.pinimg.com/736x/08/5f/14/085f14555cc84e0515b3b21a21ba346c.jpg",
        "Sabudhana Upma": "https://www.vegrecipesofindia.com/wp-content/uploads/2013/10/sabudana-khichdi28.jpg",
        "Pongal": "https://i.pinimg.com/736x/1b/80/3a/1b803ab835e1a08aa0efa30532b7d9d3.jpg",
        "Medu Vada": "https://i.pinimg.com/736x/de/a8/b5/dea8b58fe9d59cd0a13a1191f7a41bc0.jpg",
        "Masala Dosa": "https://i.pinimg.com/736x/e8/49/4a/e8494a7a8a71af0c6b0a3f853e629ded.jpg",
        "Uggani Bhaji": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRnpggPt8x0IMQ6k32J8SkYRcdukm8lCjVLnw&s",
        "Semiya Upma": "https://i.pinimg.com/736x/c7/b9/64/c7b964fefb1b859a0894b82448b40398.jpg",
        "Paneer Butter Masala": "https://i.pinimg.com/736x/09/e4/ac/09e4acfe3778136b196f0202b45f49d5.jpg",
        "Aloo Gobi": "https://i.pinimg.com/736x/bc/e6/70/bce6708952226e5cd34ec0976aa8c19d.jpg",
        "Tandoori Roti": "https://i.pinimg.com/736x/7e/c8/49/7ec849ddb02f977d0ebc0c1dcdc14581.jpg",
        "Chicken Biryani": "https://i.pinimg.com/736x/6a/cc/f3/6accf3cefbe7f9779d151e3696018990.jpg",
        "Dal Tadka": "https://i.pinimg.com/736x/2a/8e/57/2a8e57bc82908377e58203bfd9f95e84.jpg",
        "Pulao": "https://i.pinimg.com/736x/18/c5/8d/18c58d13627917fb60d39d2ce019d6a1.jpg",
        "Baingan Bharta": "https://i.pinimg.com/736x/c7/6a/c6/c76ac66e3d9029a3168aba17e62c9f37.jpg",
        "Vegetable Korma": "https://i.pinimg.com/736x/79/c6/f0/79c6f06c0f47a802cbd4307e83c5f65a.jpg",
        "Aloo Paratha": "https://i.pinimg.com/736x/2d/41/1a/2d411adae281d8e22c70ade705a8f4bd.jpg",
        "Dum Aloo": "https://i.pinimg.com/736x/87/bf/d7/87bfd7c4be3f49886e34562cbcc0c7b6.jpg",
        "Matter Paneer": "https://i.pinimg.com/736x/b0/0f/8a/b00f8ae3581ad641fd0ad9b54d1d6f24.jpg",
        "Gobi Manchurian": "https://i.pinimg.com/736x/c1/ae/1a/c1ae1aa133a902845a4ddb441cda2154.jpg",
        "Kadhi Pakora": "https://i.pinimg.com/736x/e0/66/de/e066de3fc57814997ab455047acfa313.jpg",
        "Chana Masala": "https://i.pinimg.com/736x/4c/f6/ea/4cf6eab752882c6b13d0f2ea874171c7.jpg",
        "Shahi Paneer": "https://i.pinimg.com/736x/02/6c/1c/026c1c13f2bce15f3c5c2dcedaaff499.jpg",
        "Malai Kofta": "https://i.pinimg.com/736x/b0/aa/a4/b0aaa4cdf8103e50e74f675f25207332.jpg",
        "Kathi Roll": "https://i.pinimg.com/736x/9c/17/96/9c179646f90e7c9a75aa45a359776d62.jpg",
        "Palak Chaat": "https://i.pinimg.com/736x/6b/dc/aa/6bdcaa93ebd18176e85c7c5bff938734.jpg",
        "Hyderabadi Dum Biryani": "https://i.pinimg.com/736x/6a/cc/f3/6accf3cefbe7f9779d151e3696018990.jpg",
        "Aloo Methi": "https://i.pinimg.com/736x/2b/b1/3f/2bb13f1076c72e10f23f5d323de0b47e.jpg",
        "Methi Thepla": "https://i.pinimg.com/736x/22/36/05/223605c1b7c4e3398cc9bc8c04836329.jpg",
        "Jeera Rice": "https://i.pinimg.com/736x/2c/60/05/2c600582517ee966ce961355f8adf204.jpg",
        "Chicken Curry": "https://i.pinimg.com/736x/8c/23/f3/8c23f3cabfaf3aaf1e18ee27edfde5ab.jpg",
        "Mushroom Curry": "https://i.pinimg.com/736x/22/39/0b/22390b364cc38e8a360be1ac7b02850d.jpg",
        "Tandoori Roti": "https://i.pinimg.com/736x/7e/c8/49/7ec849ddb02f977d0ebc0c1dcdc14581.jpg",
        "Kale and Paneer Pulao": "https://sinfullyspicy.com/wp-content/uploads/2021/06/8C30DB33-7887-4B13-8EE4-3FFA07B28939.jpeg",
        "Sukha Matar Aloo": "https://sinfullyspicy.com/wp-content/uploads/2021/08/24D6647E-49FD-4320-B435-1D0DE402A86F-997x1536.jpeg",
        "Mutton Pepper Fry": "https://sinfullyspicy.com/wp-content/uploads/2024/09/3-1.jpg",
        "Prawn Fried Rice": "https://i.pinimg.com/736x/43/59/6f/43596f4a7a5e3c518bcfbc4c68b7848c.jpg",
        "Shahi Chicken Korma (White Chicken Korma)": "https://sinfullyspicy.com/wp-content/uploads/2014/11/4.jpg",
        "Fish Curry": "https://i.pinimg.com/736x/3d/d9/bd/3dd9bd8e7749bfa578ea799f115b3480.jpg",
        "Masoor Dal Khichdi": "https://sinfullyspicy.com/wp-content/uploads/2021/11/0BA86078-9A5E-4DE8-B0F9-645D9498C232-1024x1536.jpeg",
        "Masoor Dal Khichdi": "https://sinfullyspicy.com/wp-content/uploads/2021/11/0BA86078-9A5E-4DE8-B0F9-645D9498C232-1024x1536.jpeg",
        "Veg Korma": "https://i.pinimg.com/736x/10/26/d8/1026d8cccb9fa183e315349440ab47e5.jpg",
        "Amritsari Fish": "https://sinfullyspicy.com/wp-content/uploads/2022/07/1-4.jpg",
        "Mushroom Pepper Fry": "https://i.pinimg.com/736x/58/91/b7/5891b774917b21a1f0dc9b9ad01a9854.jpg",
        "Masala Prawn Curry": "https://i.pinimg.com/736x/32/cd/5a/32cd5a30754392e703f3eafbc910b46b.jpg",
        "Kalla Chana": "https://sinfullyspicy.com/wp-content/uploads/2023/03/1-9.jpg",
        "Perugu Pachadi": "https://i.pinimg.com/736x/b3/01/0f/b3010f2301c449cdb4b7079a302f5f1c.jpg",
        "Kadai Paneer": "https://i.pinimg.com/736x/89/65/ae/8965aeef7b5d5e17629dd1edac7f181c.jpg",
        "Egg Curry": "https://i.pinimg.com/736x/fe/d8/8b/fed88b61378bdc716cf284df20b7171a.jpg",
        "Aloo Palak": "https://sinfullyspicy.com/wp-content/uploads/2022/09/1-2.jpg",
        "Chicken Chettinad": "https://sinfullyspicy.com/wp-content/uploads/2023/06/4-1.jpg",
        "Dum Aloo": "https://sinfullyspicy.com/wp-content/uploads/2024/01/4-3.jpg",
        "Samosa": "https://i.pinimg.com/736x/e7/ad/34/e7ad343c1060bad6359f1eab5ce42bb5.jpg",
        "Pani Puri": "https://i.pinimg.com/736x/a4/22/03/a42203eb9c602a76fb112463a9e89494.jpg",
        "Chaat": "https://i.pinimg.com/736x/44/0a/0c/440a0c32fbb56ac8c3a483b9d1530305.jpg",
        "Aloo Tikki": "https://i.pinimg.com/736x/1b/ca/cc/1bcacc7c90efdc56a2eb5189845b6c86.jpg",
        "Pav Bhaji": "https://i.pinimg.com/736x/bd/03/1b/bd031b26343b8c2cc6f035d68f8d90ab.jpg",
        "Paneer Tikka": "https://i.pinimg.com/736x/49/e5/80/49e5800ada1c3a59021e2c84bf91c457.jpg",
        "Spring Rolls": "https://i.pinimg.com/736x/74/55/86/7455861056a201b44b68a5ef65e36583.jpg",
        "Pakora": "https://i.pinimg.com/736x/79/e9/2b/79e92b57fc8e7b673988dd13d8e6b54f.jpg",
        "Vada Pav": "https://i.pinimg.com/736x/70/6d/0d/706d0d22aa860b5e5ea12f71e0684a05.jpg",
        "Bhel Puri": "https://i.pinimg.com/736x/43/73/4b/43734bc7edd29db24a720f63611a3cf1.jpg",
        "Dhokla": "https://i.pinimg.com/736x/1d/98/cf/1d98cf0172a7d959392b3a78635b9802.jpg",
        "Crispy Corn": "https://i.pinimg.com/736x/f4/9d/97/f49d97cb1fd022c9914d12d2f973ac13.jpg",
        "Cheese Balls": "https://i.pinimg.com/736x/4e/3c/b2/4e3cb285a24bcff0ba0abc5bd6db7fd8.jpg",
        "Onion Rings": "https://i.pinimg.com/736x/15/90/0a/15900ab69fc1b36776dbb853e20f7980.jpg",
        "French Fries": "https://i.pinimg.com/736x/67/51/4d/67514d8b588b60f281d479f0391a6706.jpg",
        "Masala Papad": "https://i.pinimg.com/736x/e6/62/21/e662212eab96b48e865493a3345eb2f5.jpg",
        "Chicken Pizza": "https://i.pinimg.com/736x/b1/4e/96/b14e967be4d2d4d121ec19d6de13ea7c.jpg",
        "Kachori": "https://i.pinimg.com/736x/ae/81/18/ae81182181359d587822bdb5cebaf0b8.jpg",
        "Chana Chaat": "https://i.pinimg.com/736x/4c/5e/f5/4c5ef5dcfd934a5e12dfd0e0acdcbb6f.jpg",
        "Chilli Paneer": "https://i.pinimg.com/736x/03/1d/03/031d03ad7dcd51e1672cdc6db3bf9aad.jpg",
        "Vegetable Sandwich": "https://i.pinimg.com/736x/4d/92/b9/4d92b9db3723c56f2215bb38ef307ed6.jpg",
        "Chicken 65": "https://i.pinimg.com/736x/a9/19/dc/a919dc55b053db6c58369a1f758887d9.jpg",
        "Chicken Burger": "https://i.pinimg.com/736x/4c/17/32/4c1732cacb323c997dce7765eee0610b.jpg",
        "Lemonade": "https://i.pinimg.com/736x/99/2b/a6/992ba606907bad9f112faf07ee13551b.jpg",
        "Iced Coffee": "https://i.pinimg.com/736x/a8/75/bd/a875bd2ef9ed3b4bd08b0120750ea915.jpg",
        "Mint Mojito": "https://i.pinimg.com/736x/cd/f1/0b/cdf10bd45a14c646c05e75cc59390b21.jpg",
        "Milkshake": "https://i.pinimg.com/736x/63/1c/a2/631ca213b0a2d18bf85b5695c9ce54cf.jpg",
        "Fruit Smoothie": "https://i.pinimg.com/736x/4e/c4/8e/4ec48e33267c97cfdb5c0a631bb00831.jpg",
        "Hot Chocolate": "https://i.pinimg.com/736x/fb/80/bf/fb80bfc162132f8bc17c71a7f14abcab.jpg",
        "Green Tea": "https://i.pinimg.com/736x/47/27/eb/4727eb25d368e75b55cf0c7957db76bc.jpg",
        "Fruit Punch": "https://i.pinimg.com/736x/f9/d8/a0/f9d8a0b96bd9a5b871702b0c45509d85.jpg",
        "Cold Brew Coffee": "https://i.pinimg.com/736x/18/da/2f/18da2fad7461d22ec47f3a8d7da6e7b3.jpg",
        "Chai Latte": "https://i.pinimg.com/736x/1c/df/36/1cdf3611722765dd43ab3efd80aa61b6.jpg",
        "Peach Iced Tea": "https://i.pinimg.com/736x/d4/cf/e1/d4cfe1907c65b0ba5972e7acf25cc8fc.jpg",
        "Lassi": "https://i.pinimg.com/736x/65/52/54/655254439134e79468defbd85a4acfeb.jpg",
        "Orange Juice": "https://i.pinimg.com/736x/27/d1/d9/27d1d96f78a215b0e2a0606be343c6eb.jpg",
        "Ginger Lemon Tea": "https://i.pinimg.com/736x/25/87/ad/2587ad887f485060ced6fa8f902581b1.jpg",
        "Hot Lemon Honey": "https://i.pinimg.com/736x/ac/5e/f1/ac5ef16e48b4b707cfaa151f6a63d5f2.jpg",
        "Strawberry Smoothie": "https://i.pinimg.com/736x/94/2b/03/942b0316b3cb91cc5c5f2ec0c47a53cb.jpg",
        "Bubble Tea": "https://i.pinimg.com/736x/4e/a7/ef/4ea7ef3c932dcabdca8fcee2898e9832.jpg",
        "Hot Apple Cider": "https://i.pinimg.com/736x/bd/8f/07/bd8f073818d28d5a00dd5d91169db0fa.jpg",
        "Cucumber Mint Cooler": "https://i.pinimg.com/736x/00/c8/66/00c866f5478b1497b5952884cad6b584.jpg",
        "Coffee Latte": "https://i.pinimg.com/736x/6a/86/c3/6a86c387495a30851e5843a582c7b6f2.jpg",
        "Gulab Jamun": "https://sinfullyspicy.com/wp-content/uploads/2011/07/2-1.jpg",
        "Rasgulla": "https://i.pinimg.com/736x/84/f9/39/84f93947ff80e7af6ee503998c323433.jpg",
        "Kulfi": "https://i.pinimg.com/736x/4a/ce/46/4ace460a48ea15118d82cb8572175188.jpg",
        "Brownie Trifle": "https://sinfullyspicy.com/wp-content/uploads/2022/12/1-4.jpg",
        "Black Forest Trifle": "https://sinfullyspicy.com/wp-content/uploads/2021/02/3-2.jpg",
        "Lychee Ice Cream": "https://sinfullyspicy.com/wp-content/uploads/2023/07/2-3.jpg",
        "Eggless Masala Chai Cake": "https://sinfullyspicy.com/wp-content/uploads/2024/11/3-2.jpg",
        "Mango Cheesecake": "https://sinfullyspicy.com/wp-content/uploads/2023/07/4.jpg",
        "Spiced Honey Cake": "https://sinfullyspicy.com/wp-content/uploads/2020/11/img_1900.jpg?w=735",
        "Lemon Tiramisu": "https://sinfullyspicy.com/wp-content/uploads/2023/03/1-8.jpg",
        "Mango Shrikhanda": "https://i.pinimg.com/736x/b2/b5/95/b2b595bd59fdabfe6ea9c989909b2d72.jpg",
        "Chocolate Tresleches": "https://i.pinimg.com/736x/f1/f8/ec/f1f8ec2653269d18d437e80cd2e39b67.jpg",
        "Brownie  Cheesecake Bites": "https://sinfullyspicy.com/wp-content/uploads/2021/02/BA4270E4-D90B-4CE8-BC92-2073E4DFE5DA.jpeg",
        "Cashew Icecream": "https://sinfullyspicy.com/wp-content/uploads/2015/08/1.jpg",
        "Sabudana Kheer": "https://sinfullyspicy.com/wp-content/uploads/2014/01/1.jpg",
        "Coconut Burfi": "https://sinfullyspicy.com/wp-content/uploads/2012/11/img_05001.jpg",
        "Chocolate Burfi": "https://sinfullyspicy.com/wp-content/uploads/2023/08/1-7.jpg",
        "Fried Ice Cream": "https://i.pinimg.com/736x/1d/61/1c/1d611cb1f055bb52dec4a8915043580f.jpg",
        "Fruit Tart": "https://i.pinimg.com/736x/82/8a/15/828a1552690e6cf0931e6798497a7945.jpg",
        "Cheese Ice Cream with Roasted Strawberries": "https://sinfullyspicy.com/wp-content/uploads/2012/07/img_03431.jpg",
        "Black Forest Cake": "https://i.pinimg.com/736x/79/cf/45/79cf457ee67301ca1afb522214d693f8.jpg",
        "Carrot Ladoo": "https://sinfullyspicy.com/wp-content/uploads/2021/09/3-3.jpg",
        "Pistachio Cream Roll": "https://sinfullyspicy.com/wp-content/uploads/2023/08/2-6.jpg",
        "Besan Chilla": "https://i.pinimg.com/736x/93/c5/49/93c5492c509282be6b7cef80ed2e7179.jpg",
        "Pongal": "https://i.pinimg.com/736x/07/7e/bc/077ebc6ae6cad1dbdb3f610fc893f921.jpg",
        "South Indian Idli": "https://i.pinimg.com/736x/31/17/79/3117798277633d30993e40fdb344e789.jpg",
        "Methi Matar Malai": "https://sinfullyspicy.com/wp-content/uploads/2023/09/1-4.jpg",
        "Palak Paneer": "https://i.pinimg.com/736x/e4/f3/92/e4f392cf4bdd1d68805b2661147491d9.jpg",
        "Cucumber Salad": "https://sinfullyspicy.com/wp-content/uploads/2023/07/1.jpg",
        "Ragi Dosa": "https://www.cookshideout.com/wp-content/uploads/2017/06/Sprouted-Ragi-Dosa1S.jpg",
        "Dal Tadka": "https://i.pinimg.com/736x/30/6a/f7/306af751e7d3cf48e6e6e148fe813f4e.jpg",
        "Jeera Rice": "https://www.jcookingodyssey.com/wp-content/uploads/2023/06/jeera-rice-3.jpg",
        "Cucumber Salad": "https://www.thespruceeats.com/thmb/NonbmV7-N7wA20-JCvxZh-ZFQk8=/750x0/filters:no_upscale():max_bytes(150000):strip_icc():format(webp)/KachumberIndianCucumberSalad-TheSpruce_DianaChistruga-b24cf35030c64bbea3749827724abf1a.jpg",
        "Chocolate Mugcake": "https://i.pinimg.com/originals/93/7e/7c/937e7c4f10e311b0f945e329f9a8a81e.jpg",
        "Coconut Balls": "https://i.pinimg.com/736x/9d/99/b4/9d99b4c2b95c5b2abc3563ba88c5d90d.jpg",
        "Aloo Toast": "https://i.pinimg.com/736x/e3/99/f9/e399f9529c8843ffac734117ff282389.jpg",
        "Vegetable Poha": "https://i.pinimg.com/736x/fa/bd/36/fabd36cffbec436325f2517b36636a33.jpg",
        "Tomato Pasta": "https://i.pinimg.com/736x/fe/20/34/fe20347922579377257c25da1bfb515e.jpg",
        "Paneer Wrap": "https://i.pinimg.com/736x/44/3e/3e/443e3eb28ee9315ab961787df489e30d.jpg"
     }
    # Query for recipes based on the budget
    conn = get_connection()
    cursor = conn.cursor(dictionary=True)
    cursor.execute("SELECT id, name, price FROM recipes WHERE price <= %s", (budget,))
    data = cursor.fetchall()
    conn.close()
    for item in data:
        name = item.name
        url = images.get(name,"")
        item.image = url

    # Predefined descriptions, image URLs, and specific recipe pages for some recipe names
    descriptions = {
        "Besan Chilla": "A healthy and tasty South Indian breakfast dish made with semolina.",
        "Aloo Paratha": "A delicious stuffed Indian flatbread filled with spiced mashed potatoes.",
        "Paneer Butter Masala": "A rich and creamy tomato-based curry with soft paneer cubes.",
        "Veg Biryani": "A fragrant rice dish cooked with spices and mixed vegetables.",
        "Chickpea Spinach Curry": "Hearty, nutritious chickpea and spinach curry.",
        "Gutti Vankaya Curry": "Stuffed brinjal curry with rich spices.",
        "Palak Paneer": "A North Indian curry made with pureed spinach and paneer cubes.",
        "Dal Makhani": "Creamy, buttery, rich, slow-cooked lentil curry.",
        "Chole Bhature": "A classic Punjabi dish of spicy chickpeas served with deep-fried bread.",
        "Veg Pulao": "Fragrant rice with spiced vegetables.",
        "Aloo tikki": "Crispy spiced potato patties, delicious snack.",
        "Veg Spring rolls": "Crispy, stuffed, savory, fried, delicious.",
        "Veg Grilled Sandwich": "Fresh, crunchy, cheesy, healthy, delicious sandwich.",
        "Veg Kofta Curry": "Spiced vegetable balls in rich gravy.",
        "White Sause Pasta": "Creamy, cheesy, garlic-flavored pasta delight.",
        "Aloo Fry Curry": "Spiced, flavorful, potato-based Indian curry.",
        "Bendi Fry": "Crispy, spiced, stir-fried okra delight.",
        "Veg Noodles": "Spicy, stir-fried, flavorful veggie noodles.",
        "Dhokla": "Soft, spongy, steamed savory gram flour cake.",
        "Butter Chicken": "Tender chicken in a rich and creamy tomato-based gravy.",
        "Chicken Biryani": "A flavorful rice dish with spiced chicken and aromatic herbs.",
        "Tandoori Chicken": "Juicy chicken marinated in yogurt and spices, grilled to perfection.",
        "Mutton Rogan Josh": "A spicy and flavorful mutton curry with Kashmiri spices.",
        "Fish Curry": "A tangy and spicy curry made with fresh fish.",
        "Chicken Tikka Masala": "Grilled chicken chunks in a rich and creamy spiced gravy.",
        "Lamb Korma": "Tender lamb cooked in a smooth, mildly spiced gravy.",
        "Prawn Masala": "Succulent prawns in a tangy, spicy curry.",
        "Mutton Seekh Kebabs": "Spiced minced mutton skewers grilled to perfection.",
        "Chicken Shawarma": "Middle Eastern-style grilled chicken served with pita bread.",
        "Chicken Korma": "Creamy, rich curry with tender chicken pieces.",
        "Lamb Kofta": "Spiced lamb meatballs in a rich curry.",
        "Grilled Fish": "Marinated fish grilled to perfection with spices.",
        "Spicy Chicken Wings": "Crispy and spicy wings, perfect for snacks.",
        "Chicken Malai Tikka": "Tender chicken pieces marinated in cream and spices.",
        "Fish Fry": "Crispy fried fish with a spicy coating.",
        "Chicken Burger": "Chicken patty with vegetables and sauces in buns.",
        "Mutton Pulao": "Aromatic rice dish cooked with tender mutton and spices.",
        "Egg Curry": "Spiced curry with hard-boiled eggs.",
        "Idli": "Steamed rice cakes, a classic South Indian breakfast.",
        "Dosa": "Thin, crispy, fermented rice crepe.",
        "Upma": "A healthy semolina-based breakfast dish.",
        "Poha": "Flattened rice, spiced, quick breakfast.",
        "Thepla": "Spiced flatbread made from whole wheat.",
        "Kesari": "Sweet semolina dessert with ghee.",
        "Chole Bhature": "Spiced chickpeas with deep-fried bread.",
        "Pancake": "Fluffy, sweet, griddled breakfast treat.",
        "Guntha Ponganalu": "Crispy rice-lentil dumplings, soft inside.",
        "Oats": "Healthy whole grain, fiber-rich breakfast.",
        "Pesarattu": "Crispy green gram dosa.",
        "Peri-Peri Pasta": "Spicy, tangy pasta with peri-peri sauce.",
        "Mysore Bonda": "Crispy, fluffy deep-fried lentil fritters.",
        "Lemon Rice": "Zesty, tangy rice with spices.",
        "Curd Rice": "Creamy yogurt rice with tempered spices.",
        "Appam with Stew": "Fermented rice pancakes with coconut-based curry.",
        "Ragi Khangi": "Nourishing ragi porridge with buttermilk.",
        "Onion Uthapam": "Soft savory pancake with onions.",
        "Sabudhana Upma": "Tapioca pearls, spiced, savory delight.",
        "Pongal": "Comforting rice and lentil dish, seasoned with spices.",
        "Medu Vada": "Crispy lentil doughnuts, perfect with chutney and sambar.",
        "Masala Dosa": "Crispy dosa stuffed with spiced potato filling.",
        "Uggani Bhaji": "Seema Special...Spicy and flavorful South Indian delicacy.",
        "Semiya Upma": "Light and savory vermicelli breakfast dish.",
        "Paneer Butter Masala": "Paneer cubes cooked in a creamy tomato-based gravy.",
        "Aloo Gobi": "A dry curry made with potatoes and cauliflower.",
        "Tandoori Roti": "Whole wheat flatbread baked in a tandoor oven.",
        "Chicken Biryani": "Aromatic rice dish with spiced meat or vegetables.",
        "Dal Tadka": "Yellow lentils cooked with spices and ghee.",
        "Pulao": "A simple rice dish flavored with cumin and spices.",
        "Baingan Bharta": "Smoked eggplant mashed and cooked with onions, tomatoes, and spices.",
        "Vegetable Korma": "Mixed vegetables cooked in a creamy, mildly spiced sauce.",
        "Aloo Paratha": "Stuffed flatbread with spiced mashed potatoes.",
        "Dum Aloo": "Spicy baby potatoes cooked in a rich gravy.",
        "Matter Paneer": "Paneer and peas in a rich tomato-based curry.",
        "Gobi Manchurian": "Crispy cauliflower tossed in a spicy Chinese-style sauce.",
        "Kadhi Pakora": "Deep-fried chickpea fritters in a tangy yogurt gravy.",
        "Chana Masala": "Spicy chickpea curry with onions, tomatoes, and spices.",
        "Shahi Paneer": "Paneer cooked in a rich, creamy gravy with nuts.",
        "Malai Kofta": "Fried vegetable or paneer balls in a rich, creamy tomato gravy.",
        "Kathi Roll": "A wrap with spiced vegetables or meat in a paratha.",
        "Palak Chaat": "Crispy spinach leaves topped with yogurt and chutney.",
        "Hyderabadi Dum Biryani": "A rich, aromatic rice dish with marinated meat, cooked under pressure.",
        "Aloo Methi": "Potatoes cooked with fenugreek leaves and spices.",
        "Methi Thepla": "Fenugreek flavored flatbread.",
        "Jeera Rice": "Simple basmati rice flavored with cumin seeds.",
        "Chicken Curry": "Chicken cooked in a rich, flavorful gravy with spices.",
        "Mushroom Curry": "Mushrooms cooked in a flavorful and spicy curry sauce.",
        "Tandoori Roti": "Soft and crispy Indian flatbread.",
        "Kale and Paneer Pulao": "A fragrant and easy paneer(indian cheese) and kale pulao",
        "Sukha Matar Aloo": "Delicious preparation with fresh peas and potatoes",
        "Mutton Pepper Fry": "Hot & spicy with tender pieces of mutton coated in an intensely peppery masala.",
        "Prawn Fried Rice": "Fried rice with prawns.",
        "Shahi Chicken Korma (White Chicken Korma)": "Tender chicken in a rich, delicately aromatic and creamy sauce makes this white chicken korma fit for royalty!",
        "Fish Curry": "Tangy and spicy fish curry.",
        "Masoor Dal Khichdi": "Easy Indian comfort meal made with rice and lentils.",
        "Veg Korma": "Mixed vegetables in rich curry.",
        "Amritsari Fish": "Fish pakora spicy masala and then deep fried.",
        "Mushroom Pepper Fry": "Spicy stir-fry with mushrooms, peppers.",
        "Masala Prawn Curry": "Spicy prawn curry.",
        "Kalla Chana": "Black chickpeas (kala chana), ground spices, ginger and green chillies.",
        "Perugu Pachadi": "Creamy yogurt-based spiced vegetable dish.",
        "Kadai Paneer": "Spiced paneer with bell peppers.",
        "Egg Curry": "Eggs in rich tomato gravy.",
        "Aloo Palak": "Easy dry Indian sabzi made with potatoes and spinach",
        "Chicken Chettinad": "Spicy Chettinad chicken curry.",
        "Dum Aloo": "Potatoes in rich gravy.",
        "Samosa": "Crispy triangular pastries filled with spiced potatoes and peas.",
        "Pani Puri": "Crispy puris filled with spicy tamarind water, chickpeas, and potatoes.",
        "Chaat": "A flavorful combination of yogurt, chutneys, and crispy ingredients.",
        "Aloo Tikki": "Crispy potato patties served with chutneys and spices.",
        "Pav Bhaji": "Spicy mashed vegetables served with buttered bread rolls.",
        "Paneer Tikka": "Grilled cubes of spiced paneer served with chutney.",
        "Spring Rolls": "Crispy rolls filled with veggies and served with dipping sauce.",
        "Pakora": "Fried fritters made from gram flour and a variety of vegetables.",
        "Vada Pav": "Spicy potato fritter served in a bun with chutneys.",
        "Bhel Puri": "Puffed rice mixed with vegetables, chutneys, and sev.",
        "Dhokla": "Steamed savory cake made from fermented rice and chickpea flour.",
        "Crispy Corn": "Crispy fried corn kernels served with spices.",
        "Cheese Balls": "Deep-fried cheese-filled balls served with ketchup.",
        "Onion Rings": "Crispy fried rings of onion served with a dipping sauce.",
        "French Fries": "Golden fried potato strips served with ketchup.",
        "Masala Papad": "Crispy papad topped with spices and veggies.",
        "Chicken Pizza": "A delicious pizza topped with tender pieces of spiced chicken, cheese, and a flavorful tomato sauce.",
        "Kachori": "Fried pastry filled with spicy lentils or peas.",
        "Chana Chaat": "Chickpeas mixed with chutneys and spices.",
        "Chilli Paneer": "Spicy and crispy paneer cubes tossed in a tangy sauce.",
        "Vegetable Sandwich": "A fresh sandwich filled with crunchy vegetables and seasonings.",
        "Chicken 65": "Fried chicken pieces coated with a spicy and tangy sauce.",
        "Chicken Burger": "A juicy chicken patty served in a soft burger bun with fresh veggies.",
        "Lemonade": "A refreshing drink made with lemon juice, sugar, and water.",
        "Iced Coffee": "Chilled coffee served with ice and milk.",
        "Mint Mojito": "A cool drink made with mint leaves, lime, and soda water.",
        "Milkshake": "A creamy drink made with milk, ice cream, and flavorings.",
        "Fruit Smoothie": "A healthy drink made with blended fruits and yogurt.",
        "Hot Chocolate": "A warm, comforting drink made with milk, cocoa powder, and sugar.",
        "Green Tea": "A healthy, soothing tea made from green tea leaves.",
        "Fruit Punch": "A refreshing drink made with mixed fruits and juice.",
        "Cold Brew Coffee": "A strong, chilled coffee drink made by steeping coffee grounds in cold water.",
        "Chai Latte": "Spiced tea mixed with steamed milk.",
        "Peach Iced Tea": "Iced tea flavored with sweetened peach syrup.",
        "Lassi": "A traditional yogurt-based drink, either sweet or salted.",
        "Orange Juice": "Freshly squeezed juice made from oranges.",
        "Ginger Lemon Tea": "A soothing blend of ginger and lemon in hot water.",
        "Hot Lemon Honey": "A warm drink made with lemon and honey.",
        "Strawberry Smoothie": "A fruity drink made with fresh strawberries and yogurt.",
        "Bubble Tea": "A tea-based drink with chewy tapioca pearls.",
        "Hot Apple Cider": "A warming drink made from fresh apple juice and spices.",
        "Cucumber Mint Cooler": "A refreshing drink made with cucumber, mint, and lime.",
        "Coffee Latte": "A refreshing coffee with milk.",
        "Gulab Jamun": "Fried dough balls soaked in sweet syrup.",
        "Rasgulla": "Soft and spongy Bengali dessert made of chhena and semolina.",
        "Kulfi": "Rich, creamy, and frozen Indian ice cream.",
        "Brownie Trifle": "Scented brownies, eggless vanilla custard, orange zest whipped cream.",
        "Black Forest Trifle": "Chocolate cake, cherry pie filling, chocolate pudding & whipped cream.",
        "Lychee Ice Cream": "Fusion of floral & fruity tropical flavors with rose and lychee.",
        "Eggless Masala Chai Cake": "Chai-spiced, moist tea cake with brewed chai.",
        "Mango Cheesecake": "Classic cheesecake flavor with tropical mango.",
        "Spiced Honey Cake": "Honey-sweetened cake with cinnamon and cloves.",
        "Lemon Tiramisu": "Ladyfingers with mascarpone & lemony whipped cream.",
        "Mango Shrikhanda": "Indian mango yogurt dessert, easy & make-ahead.",
        "Chocolate Tresleches": "Decadent chocolate soaked cake.",
        "Brownie Cheesecake Bites": "Tangy cheesecake over fudgy brownie.",
        "Cashew Icecream": "Gulab jamun + pistachio sweetness.",
        "Sabudana Kheer": "Saffron-flavored rice pudding.",
        "Coconut Burfi": "Chewy coconut fudge.",
        "Chocolate Burfi": "Chocolate chip & milk fudge with cashews.",
        "Fried Ice Cream": "Crunchy fried crust on ice cream.",
        "Fruit Tart": "Flaky crust with creamy and fruity toppings.",
        "Cheese Ice Cream with Roasted Strawberries": "Sweet, tangy & nutty frozen treat.",
        "Black Forest Cake": "Chocolate cake layered with cherries & whipped cream.",
        "Carrot Ladoo": "Melt-in-mouth carrot-based laddoos.",
        "Pistachio Cream Roll": "Flaky pastry with mithai-like pistachio filling.",
        "Besan Chilla": "A healthy and quick pancake made from gram flour and spices",
        "Pongal": "A nutritious South Indian dish made with rice and lentils.",
        "South Indian Idli": "Soft and fluffy steamed rice cakes, perfect for a light meal.",
        "Methi Matar Malai": "Creamy curry made with fenugreek leaves and peas",
        "Palak Paneer": "A spinach-based curry with soft paneer cubes.",
        "Cucumber Salad": "A refreshing salad with cucumbers, herbs, and spices.",
        "Ragi Dosa": "A crispy dosa made with ragi flour, rich in calcium.",
        "Dal Tadka": "Spiced lentil curry with aromatic tempering.",
        "Jeera Rice": "Simple and flavorful rice dish seasoned with cumin seeds.",
        "Cucumber Salad": "A refreshing salad made with cucumbers, onions, and tomatoes.",
        "Chocolate Mugcake": "A quick and easy chocolate cake made in a mug in minutes.",
        "Coconut Balls": "Delicious no-bake coconut treats made with just two ingredients.",
        "Aloo Toast": "Mashed spiced potatoes grilled in toast.",
        "Vegetable Poha": "Flattened rice cooked with spices and veggies.",
        "Tomato Pasta": "Simple pasta in tangy tomato sauce.",
        "Paneer Wrap": "Paneer tossed in spices and wrapped in roti."
    }

    
    recipe_pages = {
    "Besan Chilla": "/besanchilla.html",
    "Aloo Paratha": "/alooparatha.html",
    "Paneer Butter Masala": "/paneerbuttermasala.html",
    "Veg Biryani": "/vegbiryani.html",
    "Chickpea Spinach Curry": "/chickpeaspinach.html",
    "Gutti Vankaya Curry": "/guttivankaya.html",
    "Palak Paneer": "/palakpaneer.html",
    "Dal Makhani": "/dalmakhani.html",
    "Chole Bhature": "/cholebhature.html",
    "Veg Pulao": "/vegpulav.html",
    "Aloo tikki": "/alootikki.html",
    "Veg Spring rolls": "/vegspringrolls.html",
    "Veg Grilled Sandwich": "/veggrillsandwich.html",
    "Veg Kofta Curry": "/vegkofta.html",
    "White Sause Pasta": "/whitesaucepasta.html",
    "Aloo Fry Curry": "/aloofry.html",
    "Bendi Fry": "/bendifry.html",
    "Veg Noodles": "/vegnoodles.html",
    "Dhokla": "/dhokla.html",
    "Butter Chicken": "/butterchicken.html",
    "Chicken Biryani": "/chickenbiryani.html",
    "Tandoori Chicken": "/tandoorichicken.html",
    "Mutton Rogan Josh": "/muttonrogangosh.html",
    "Fish Curry": "/fishcurry.html",
    "Chicken Tikka Masala": "/chickentikkamasala.html",
    "Lamb Korma": "/lambkorma.html",
    "Prawn Masala": "/prawnmasala.html",
    "Mutton Seekh Kebabs": "/muttonseekhkebab.html",
    "Chicken Shawarma": "/chickenshawarma.html",
    "Chicken Korma": "/chickenkorma.html",
    "Lamb Kofta": "/lambkofta.html",
    "Grilled Fish": "/grilledfish.html",
    "Spicy Chicken Wings": "/chickenwings.html",
    "Chicken Malai Tikka": "/chickenmalaitikka.html",
    "Fish Fry": "/fishfry.html",
    "Chicken Burger": "/chickenburger.html",
    "Mutton Pulao": "/muttonpulav.html",
    "Egg Curry": "/eggcurry.html",
    "Idli": "/idly.html",
    "Dosa": "/dosa.html",
    "Upma": "/upma.html",
    "Poha": "/poha.html",
    "Thepla": "/thepla.html",
    "Kesari": "/kesari.html",
    "Pancake": "/pancake.html",
    "Guntha Ponganalu": "/gunthaponganalu.html",
    "Oats": "/oats.html",
    "Pesarattu": "/pesarattu.html",
    "Peri-Peri Pasta": "/periperipasta.html",
    "Mysore Bonda": "/mysorebonda.html",
    "Lemon Rice": "/lemonrice.html",
    "Curd Rice": "/curdrice.html",
    "Appam with Stew": "/appamwithstew.html",
    "Ragi Khangi": "/ragikhangi.html",
    "Onion Uthapam": "/onionuthapam.html",
    "Sabudhana Upma": "/sabhudhanaupma.html",
    "Pongal": "/pongal.html",
    "Medu Vada": "/meduvada.html",
    "Masala Dosa": "/masaladosa.html",
    "Uggani Bhaji": "/ugganibhagi.html",
    "Semiya Upma": "/semiyaupma.html",
    "Aloo Gobi": "/aloogobi.html",
    "Tandoori Roti": "/tandooriroti.html",
    "Dal Tadka": "/daltadka.html",
    "Pulao": "/pulav.html",
    "Baingan Bharta": "/bainganbharta.html",
    "Vegetable Korma": "/vegetablekorma.html",
    "Dum Aloo": "/dumaloo.html",
    "Matter Paneer": "/matterpaneer.html",
    "Gobi Manchurian": "/gobimanchuria.html",
    "Kadhi Pakora": "/kadhipakora.html",
    "Chana Masala": "/chanamasala.html",
    "Shahi Paneer": "/shahipaneer.html",
    "Malai Kofta": "/malaikofta.html",
    "Kathi Roll": "/kathiroll.html",
    "Palak Chaat": "/palakchaat.html",
    "Hyderabadi Dum Biryani": "/chickenbiryani.html",
    "Aloo Methi": "/aloomethi.html",
    "Methi Thepla": "/methithepla.html",
    "Jeera Rice": "/jeerarice.html",
    "Chicken Curry": "/chickencurry.html",
    "Mushroom Curry": "/mushroomcurry.html",
    "Kale and Paneer Pulao": "/kaleandpaneerpulav.html",
    "Sukha Matar Aloo": "/sukhamataraloo.html",
    "Mutton Pepper Fry": "/muttonpepperfry.html",
    "Prawn Fried Rice": "/prawnfriedrice.html",
    "Shahi Chicken Korma (White Chicken Korma)": "/shahichickenkorma.html",
    "Masoor Dal Khichdi": "/masoordalkichidi.html",
    "Veg Korma": "/vegkorma.html",
    "Amritsari Fish": "/amritsarifish.html",
    "Mushroom Pepper Fry": "/mushroompepperfry.html",
    "Masala Prawn Curry": "/prawnmasala.html",
    "Kalla Chana": "/kallachana.html",
    "Perugu Pachadi": "/perugupachadi.html",
    "Kadai Paneer": "/kadaipaneer.html",
    "Aloo Palak": "/aloopalak.html",
    "Chicken Chettinad": "/chickenchetinad.html",
    "Samosa": "/Samosa.html",
    "Pani Puri": "/Panipuri.html",
    "Chaat": "/chaat.html",
    "Pav Bhaji": "/PhavBhaji.html",
    "Paneer Tikka": "/Paneer_Tikka.html",
    "Spring Rolls": "/vegspringrolls.html",
    "Pakora": "/Pakora.html",
    "Vada Pav": "/Vadapav.html",
    "Bhel Puri": "/Bhel_puri.html",
    "Crispy Corn": "/Crispycorn.html",
    "Cheese Balls": "/Cheese_balls.html",
    "Onion Rings": "/Onion_rings.html",
    "French Fries": "/FrenchFries.html",
    "Masala Papad": "/Masalapapd.html",
    "Chicken Pizza": "/Chickenpizza.html",
    "Kachori": "/Kachori.html",
    "Chana Chaat": "/Chaana_chat.html",
    "Chilli Paneer": "/Chillipaneer.html",
    "Vegetable Sandwich": "/vegetable_sandwich.html",
    "Chicken 65": "/chicken_65.html",
    "Chicken Burger": "/chicksburger.html",
    "Lemonade": "/lemonade.html",
    "Iced Coffee": "/icedcofee.html",
    "Mint Mojito": "/mintmojito.html",
    "Milkshake": "/milkshake.html",
    "Fruit Smoothie": "/fruitsmothie.html",
    "Hot Chocolate": "/hotchocolate.html",
    "Green Tea": "/greentea.html",
    "Fruit Punch": "/friutpunch.html",
    "Cold Brew Coffee": "/coldbrewcofee.html",
    "Chai Latte": "/chailatte.html",
    "Peach Iced Tea": "/peachicedtea.html",
    "Lassi": "/lassi.html",
    "Orange Juice": "/orange.html",
    "Ginger Lemon Tea": "/gingerlemontea.html",
    "Hot Lemon Honey": "/hotlemonhoney.html",
    "Strawberry Smoothie": "/strawberrysmothie.html",
    "Bubble Tea": "/bubbletea.html",
    "Hot Apple Cider": "/hotapplecider.html",
    "Cucumber Mint Cooler": "/cucumbermintcooler.html",
    "Coffee Latte": "/cofeelatte.html",
    "Gulab Jamun": "/Gulabjamun.html",
    "Rasgulla": "/rasgulla.html",
    "Kulfi": "/kulfi.html",
    "Brownie Trifle": "/Brownietriffle.html",
    "Black Forest Trifle": "/blackforesttriffle.html",
    "Lychee Ice Cream": "/lyceeicecream.html",
    "Eggless Masala Chai Cake": "/chaicake.html",
    "Mango Cheesecake": "/mangocheesecake.html",
    "Spiced Honey Cake": "/spicedhoneycake.html",
    "Lemon Tiramisu": "/lemontiramisu.html",
    "Mango Shrikhanda": "/mangoshirkanda.html",
    "Chocolate Tresleches": "/chocolatetresleches.html",
    "Brownie  Cheesecake Bites": "/browniebottomsaffronbites.html",
    "Cashew Icecream": "/nochrunchcashewicecream.html",
    "Sabudana Kheer": "/sabudhanakheer.html",
    "Coconut Burfi": "/coconutburfi.html",
    "Chocolate Burfi": "/chocoburfi.html",
    "Fried Ice Cream": "/Friedicecream.html",
    "Fruit Tart": "/fruittart.html",
    "Cheese Ice Cream with Roasted Strawberries": "/cheeseicecreamstrawberriesroasted.html",
    "Black Forest Cake": "/blackforestcake.html",
    "Carrot Ladoo": "/carrotladoo.html",
    "Pistachio Cream Roll": "/pistacreamroll.html",
    "South Indian Idli": "/idly.html",
    "Methi Matar Malai": "/methimatarmalai.html",
    "Cucumber Salad": "/cucumbersalad.html",
    "Ragi Dosa": "/ragidosa.html",
    "Chocolate Mugcake": "/chocolatemugcake.html",
    "Coconut Balls": "/coconutballs.html",
    "Aloo Toast": "/alootoast.html",
    "Vegetable Poha": "/poha.html",
    "Tomato Pasta": "/tomatopasta.html",
    "Paneer Wrap": "/pannerwrap.html"
}
def enrich_recipes(data, descriptions, images, recipe_pages):
    for recipe in data:
        recipe_name = recipe['name'].lower()

        # Assign category based on keywords in the recipe name
        if 'breakfast' in recipe_name:
            recipe['category'] = 'Breakfast'
        elif 'lunch' in recipe_name:
            recipe['category'] = 'Lunch'
        elif 'dinner' in recipe_name:
            recipe['category'] = 'Dinner'
        elif 'snack' in recipe_name:
            recipe['category'] = 'Snacks'
        elif 'drink' in recipe_name or 'juice' in recipe_name or 'smoothie' in recipe_name:
            recipe['category'] = 'Drinks'
        elif 'dessert' in recipe_name or 'cake' in recipe_name or 'sweet' in recipe_name:
            recipe['category'] = 'Desserts'
        elif 'healthy' in recipe_name:
            recipe['category'] = 'Healthy'
        elif 'easy' in recipe_name:
            recipe['category'] = 'Easy'
        elif any(word in recipe_name for word in ['chicken', 'egg', 'mutton', 'fish', 'meat']):
            recipe['category'] = 'NonVeg'
        else:
            recipe['category'] = 'Veg'  # Default to Veg if no keywords match

        # Add description, image URL, and recipe page URL
        recipe['description'] = descriptions.get(recipe_name, "A delicious recipe.")
        recipe['image_url'] = images.get(recipe_name, "https://via.placeholder.com/150")
        recipe['recipe_page'] = recipe_pages.get(recipe_name, "/defaultrecipe.html")

    return jsonify(data)


@app.route('/favourite', methods=['POST'])
def add_favourite():
    data = request.json
    user_id = data['user_id']
    recipe_id = data['recipe_id']
    conn = get_connection()
    cursor = conn.cursor()
    try:
        cursor.execute("INSERT INTO favourites (user_id, recipe_id) VALUES (%s, %s)", (user_id, recipe_id))
        conn.commit()
        return jsonify({'status': 'success'})
    except:
        conn.rollback()
        return jsonify({'status': 'error'}), 500
    finally:
        conn.close()

@app.route('/favourites', methods=['GET'])
def get_favourites():
    user_id = request.args.get('user_id')
    conn = get_connection()
    cursor = conn.cursor(dictionary=True)
    cursor.execute("""
        SELECT r.* FROM recipes r
        JOIN favourites f ON r.id = f.recipe_id
        WHERE f.user_id = %s
    """, (user_id,))
    data = cursor.fetchall()
    conn.close()
    return jsonify(data)

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=int(os.environ.get("PORT", 5000)))
